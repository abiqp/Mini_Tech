<!-- Modal que se muestra u oculta basado en 'isVisible' -->
<div class="modal fade" [class.show]="isVisible" [style.display]="isVisible ? 'block' : 'none'" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body text-center p-4">
        
        <!-- Estado: Procesando -->
        <div *ngIf="status === 'processing'">
          <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status"></div>
          <h5 class="mt-3">Procesando tu pago...</h5>
          <p class="">Por favor, no cierres esta ventana.</p>
        </div>

        <!-- Estado: Exitoso -->
        <div *ngIf="status === 'success'">
          <i class="bi bi-check-circle-fill text-success" style="font-size: 3rem;"></i>
          <h5 class="mt-3">Â¡Pago Correcto!</h5>
          <p class="">Tu orden ha sido procesada exitosamente.</p>
          <button class="btn btn-primary w-100 mt-3" (click)="confirmAndClose()">Aceptar</button>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- Fondo oscuro del modal -->
<div class="modal-backdrop fade" [class.show]="isVisible" *ngIf="isVisible"></div>